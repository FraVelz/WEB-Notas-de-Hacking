<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>subprocess</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="subprocess-en-python">Subprocess en Python</h1>
<hr />
<h2 id="temario">Temario</h2>
<ul>
<li><a href="#subprocess-en-python">Subprocess en Python</a>
<ul>
<li><a href="#temario">Temario</a></li>
<li><a href="#qu√©-es-subprocess">¬øQu√© es subprocess?</a></li>
<li><a href="#1-diferencias-con-ossystem">1. Diferencias con
os.system()</a></li>
<li><a href="#2-ejecutar-comandos-b√°sicos">2. Ejecutar comandos
b√°sicos</a></li>
<li><a href="#3-capturar-la-salida-del-comando">3. Capturar la salida
del comando</a>
<ul>
<li><a href="#atributos-√∫tiles">Atributos √∫tiles</a></li>
</ul></li>
<li><a href="#4-manejar-errores">4. Manejar errores</a></li>
<li><a href="#5-capturar-y-procesar-salida-directamente">5. Capturar y
procesar salida directamente</a></li>
<li><a href="#6-enviar-entrada-al-proceso">6. Enviar entrada al
proceso</a></li>
<li><a href="#7-ejecutar-m√∫ltiples-procesos-encadenados">7. Ejecutar
m√∫ltiples procesos (encadenados)</a></li>
<li><a href="#8-popen-explicado-modo-avanzado">8. Popen explicado (modo
avanzado)</a></li>
<li><a href="#9-ejecutar-en-segundo-plano">9. Ejecutar en segundo
plano</a></li>
<li><a href="#10-consejos-de-seguridad">10. Consejos de
seguridad</a></li>
<li><a href="#11-ejemplo-pr√°ctico-medir-tiempo-de-ejecuci√≥n">11. Ejemplo
pr√°ctico: medir tiempo de ejecuci√≥n</a></li>
<li><a href="#12-ejemplo-completo-automatizador-de-sistema">12. Ejemplo
completo: automatizador de sistema</a></li>
<li><a href="#13-resumen-general">13. Resumen general</a></li>
</ul></li>
</ul>
<p><a href="./../../readme.md#5-python">Regresar a la Gu√≠a
Principal</a></p>
<hr />
<h2 id="qu√©-es-subprocess">¬øQu√© es subprocess?</h2>
<p><code>subprocess</code> (sub-proceso) permite ejecutar
<strong>programas externos</strong> o <strong>comandos del sistema
operativo</strong> desde Python.</p>
<p>üîπ Ejemplo:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>subprocess.run([<span class="st">&quot;ls&quot;</span>])</span></code></pre></div>
<p>üëâ Ejecuta el comando <code>ls</code> (en Linux/Mac) igual que si lo
escribieras en la terminal.</p>
<hr />
<h2 id="diferencias-con-os.system">1. Diferencias con os.system()</h2>
<table>
<colgroup>
<col style="width: 29%" />
<col style="width: 34%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr>
<th>Caracter√≠stica</th>
<th><code>os.system()</code></th>
<th><code>subprocess</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>Devuelve la salida</td>
<td>‚ùå No</td>
<td>‚úÖ S√≠</td>
</tr>
<tr>
<td>Control de errores</td>
<td>‚ùå Limitado</td>
<td>‚úÖ Avanzado</td>
</tr>
<tr>
<td>Interactuar con el proceso</td>
<td>‚ùå No</td>
<td>‚úÖ S√≠</td>
</tr>
<tr>
<td>Seguridad</td>
<td>üö´ Inseguro (interpreta shell)</td>
<td>‚úÖ Seguro (argumentos separados)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="ejecutar-comandos-b√°sicos">2. Ejecutar comandos b√°sicos</h2>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Forma segura (lista de argumentos)</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>subprocess.run([<span class="st">&quot;echo&quot;</span>, <span class="st">&quot;Hola desde Python!&quot;</span>])</span></code></pre></div>
<p>Tambi√©n puedes pasar <code>shell=True</code> (aunque menos
seguro):</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>subprocess.run(<span class="st">&quot;echo Hola desde Python!&quot;</span>, shell<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<hr />
<h2 id="capturar-la-salida-del-comando">3. Capturar la salida del
comando</h2>
<p>Para <strong>guardar el texto que produce el comando</strong>, usa
<code>capture_output=True</code>:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>resultado <span class="op">=</span> subprocess.run([<span class="st">&quot;ls&quot;</span>], capture_output<span class="op">=</span><span class="va">True</span>, text<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Salida:&quot;</span>, resultado.stdout)</span></code></pre></div>
<h3 id="atributos-√∫tiles">Atributos √∫tiles</h3>
<ul>
<li><code>resultado.stdout</code> ‚Üí salida est√°ndar (lo que imprime el
comando)</li>
<li><code>resultado.stderr</code> ‚Üí errores (si los hay)</li>
<li><code>resultado.returncode</code> ‚Üí c√≥digo de salida (0 =
correcto)</li>
</ul>
<hr />
<h2 id="manejar-errores">4. Manejar errores</h2>
<p>Si quieres que el programa <strong>lance una excepci√≥n</strong>
cuando el comando falle:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    subprocess.run([<span class="st">&quot;ls&quot;</span>, <span class="st">&quot;/carpeta_que_no_existe&quot;</span>], check<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> subprocess.CalledProcessError <span class="im">as</span> e:</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Error al ejecutar el comando:&quot;</span>, e)</span></code></pre></div>
<hr />
<h2 id="capturar-y-procesar-salida-directamente">5. Capturar y procesar
salida directamente</h2>
<p>Si solo necesitas la salida (m√°s c√≥modo que <code>.run()</code>):</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>salida <span class="op">=</span> subprocess.check_output([<span class="st">&quot;whoami&quot;</span>], text<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Usuario actual:&quot;</span>, salida.strip())</span></code></pre></div>
<p>üëâ Esto ejecuta el comando y <strong>devuelve la salida como
string</strong>.</p>
<hr />
<h2 id="enviar-entrada-al-proceso">6. Enviar entrada al proceso</h2>
<p>Puedes <strong>enviar datos</strong> al proceso con
<code>input=</code>:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>resultado <span class="op">=</span> subprocess.run(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&quot;grep&quot;</span>, <span class="st">&quot;hola&quot;</span>],</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">input</span><span class="op">=</span><span class="st">&quot;hola mundo</span><span class="ch">\n</span><span class="st">adi√≥s mundo</span><span class="ch">\n</span><span class="st">&quot;</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    text<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    capture_output<span class="op">=</span><span class="va">True</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(resultado.stdout)</span></code></pre></div>
<p>üîπ Resultado:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hola</span> mundo</span></code></pre></div>
<hr />
<h2 id="ejecutar-m√∫ltiples-procesos-encadenados">7. Ejecutar m√∫ltiples
procesos (encadenados)</h2>
<p>Puedes <strong>conectar la salida de un comando a otro</strong> como
en una tuber√≠a (<code>|</code> en la terminal):</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> subprocess.Popen([<span class="st">&quot;ls&quot;</span>], stdout<span class="op">=</span>subprocess.PIPE)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> subprocess.Popen([<span class="st">&quot;grep&quot;</span>, <span class="st">&quot;py&quot;</span>], stdin<span class="op">=</span>p1.stdout, stdout<span class="op">=</span>subprocess.PIPE, text<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>salida, _ <span class="op">=</span> p2.communicate()</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Archivos .py:</span><span class="ch">\n</span><span class="st">&quot;</span>, salida)</span></code></pre></div>
<p>üëâ Aqu√≠:</p>
<ul>
<li><code>Popen()</code> crea procesos manualmente.</li>
<li><code>stdout=subprocess.PIPE</code> permite conectar procesos.</li>
<li><code>communicate()</code> espera y obtiene la salida.</li>
</ul>
<hr />
<h2 id="popen-explicado-modo-avanzado">8. Popen explicado (modo
avanzado)</h2>
<p><code>Popen</code> es la clase base de <code>subprocess</code>, te da
<strong>control total</strong> sobre el proceso.</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> subprocess <span class="im">import</span> Popen, PIPE</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> Popen([<span class="st">&quot;ping&quot;</span>, <span class="st">&quot;-c&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;google.com&quot;</span>], stdout<span class="op">=</span>PIPE, stderr<span class="op">=</span>PIPE, text<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>salida, error <span class="op">=</span> p.communicate()</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Salida:&quot;</span>, salida)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Errores:&quot;</span>, error)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;C√≥digo de salida:&quot;</span>, p.returncode)</span></code></pre></div>
<hr />
<h2 id="ejecutar-en-segundo-plano">9. Ejecutar en segundo plano</h2>
<p>Si no quieres que el programa espere:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>subprocess.Popen([<span class="st">&quot;vlc&quot;</span>, <span class="st">&quot;video.mp4&quot;</span>])</span></code></pre></div>
<p>Esto abrir√° VLC <strong>sin bloquear</strong> el resto de tu
script.</p>
<hr />
<h2 id="consejos-de-seguridad">10. Consejos de seguridad</h2>
<p>‚úÖ <strong>Haz esto:</strong></p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>subprocess.run([<span class="st">&quot;ls&quot;</span>, <span class="st">&quot;/home&quot;</span>])</span></code></pre></div>
<p>üö´ <strong>Evita esto (riesgo de inyecci√≥n):</strong></p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>subprocess.run(<span class="st">&quot;ls /home &amp;&amp; rm -rf /&quot;</span>, shell<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<p>Usar <code>shell=True</code> puede ejecutar c√≥digo malicioso si la
entrada del usuario no est√° validada.</p>
<hr />
<h2 id="ejemplo-pr√°ctico-medir-tiempo-de-ejecuci√≥n">11. Ejemplo
pr√°ctico: medir tiempo de ejecuci√≥n</h2>
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>inicio <span class="op">=</span> time.time()</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>subprocess.run([<span class="st">&quot;python3&quot;</span>, <span class="st">&quot;mi_script.py&quot;</span>])</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>fin <span class="op">=</span> time.time()</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Tiempo de ejecuci√≥n: </span><span class="sc">{</span>fin <span class="op">-</span> inicio<span class="sc">:.2f}</span><span class="ss"> segundos&quot;</span>)</span></code></pre></div>
<hr />
<h2 id="ejemplo-completo-automatizador-de-sistema">12. Ejemplo completo:
automatizador de sistema</h2>
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>comandos <span class="op">=</span> [</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&quot;sudo&quot;</span>, <span class="st">&quot;apt&quot;</span>, <span class="st">&quot;update&quot;</span>],</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&quot;sudo&quot;</span>, <span class="st">&quot;apt&quot;</span>, <span class="st">&quot;upgrade&quot;</span>, <span class="st">&quot;-y&quot;</span>],</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    [<span class="st">&quot;sudo&quot;</span>, <span class="st">&quot;apt&quot;</span>, <span class="st">&quot;autoremove&quot;</span>, <span class="st">&quot;-y&quot;</span>]</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> cmd <span class="kw">in</span> comandos:</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Ejecutando:&quot;</span>, <span class="st">&quot; &quot;</span>.join(cmd))</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    resultado <span class="op">=</span> subprocess.run(cmd, capture_output<span class="op">=</span><span class="va">True</span>, text<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(resultado.stdout)</span></code></pre></div>
<p>üßπ Esto ejecuta varios comandos del sistema uno tras otro y muestra
su salida.</p>
<hr />
<h2 id="resumen-general">13. Resumen general</h2>
<table>
<colgroup>
<col style="width: 40%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr>
<th>Funci√≥n</th>
<th>Qu√© hace</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>subprocess.run()</code></td>
<td>Ejecuta un comando y espera que termine</td>
</tr>
<tr>
<td><code>subprocess.check_output()</code></td>
<td>Devuelve solo la salida</td>
</tr>
<tr>
<td><code>subprocess.Popen()</code></td>
<td>Crea un proceso controlado manualmente</td>
</tr>
<tr>
<td><code>stdout=PIPE</code></td>
<td>Captura la salida est√°ndar</td>
</tr>
<tr>
<td><code>stderr=PIPE</code></td>
<td>Captura los errores</td>
</tr>
<tr>
<td><code>input=</code></td>
<td>Env√≠a datos al proceso</td>
</tr>
<tr>
<td><code>shell=True</code></td>
<td>Ejecuta dentro de un shell (‚ö†Ô∏è inseguro)</td>
</tr>
<tr>
<td><code>check=True</code></td>
<td>Lanza excepci√≥n si falla</td>
</tr>
</tbody>
</table>
<hr />
<p><a href="./../../readme.md#5-python">Regresar a la Gu√≠a
Principal</a></p>
<blockquote>
<p><strong>Autor:</strong> Fravelz</p>
</blockquote>
</body>
</html>
